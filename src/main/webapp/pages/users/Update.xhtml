<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<f:metadata>
		<f:viewParam name="id" value="#{editUserController.user}" />
		<f:viewAction action="#{editUserController.init}" />
	</f:metadata>

	<h:head>
		<title>Atualização de usuário</title>
		<h:outputStylesheet library="css" name="global.css"/>
	</h:head>

	<h:body>
		<h:form id="frmUpdate">
			<h2>Atualização de usuários</h2>
			<p>
				<p:inputText placeholder="Nome completo" id="fullname"
					value="#{editUserController.user.fullname}" required="true"
					requiredMessage="Nome obrigatório." />
			</p>
			<p>
				<p:inputText placeholder="Endereço" id="address"
					value="#{editUserController.user.address}" required="true"
					requiredMessage="Endereço obrigatório" />
			</p>

			<p>
				<p:inputMask placeholder="Telefone" id="phone"
					value="#{editUserController.user.phone}" mask="(99) 99999-9999" />
			</p>
			<p>
				<p:inputText placeholder="Email" id="email"
					value="#{editUserController.user.email}">
					<p:keyFilter regEx="/[a-zA-Z0-9_.-@]/i" />
				</p:inputText>
			</p>

			<p>
				<p:inputText placeholder="Nome de usuário" id="username"
					value="#{editUserController.user.username}" required="true"
					requiredMessage="Nome de usuário obrigatório.">
					<p:keyFilter regEx="/[a-zA-Z0-9_.-]/i" />
				</p:inputText>
			</p>
			<p>

				<p:password placeholder="Senha" id="password"
					value="#{editUserController.user.password}" feedback="true"
					promptLabel="Força da senha" weakLabel="Senha fraca"
					goodLabel="Senha média" strongLabel="Senha forte" required="true"
					requiredMessage="Senha obrigatória.">
					<p:keyFilter regEx="/[a-zA-Z0-9_.-@*()%$!]/i" />
				</p:password>
			</p>

			<p>
				<p:selectOneMenu id="typeuser"
					value="#{editUserController.user.typeuser}" required="true"
					requiredMessage="Tipo de usuário obrigatório.">
					<f:selectItems value="#{editUserController.typeUser}" var="typeruser"
						itemValue="#{typeuser}" itemLabel="#{typeuser.type}" />

				</p:selectOneMenu>
			</p>

			<p>
				<p:commandButton value="Atualizar" action="#{editUserController.update}"
					update="@all" />
			</p>
			
			<p>
				<p:commandButton value="Voltar" update="@all" onclick="window.location.href='ListUser.xhtml'"/>
			</p>
			
		</h:form>
		
		<p:growl showDetail="false" autoUpdate="true" showSummary="true" />
		
	</h:body>
</ui:composition>

